import{p as j,i as M,a as z,t as I}from"./props-BRt4u2O_.js";import{p as L,a as H,b as T,d as Z,f as q,n as G,c as S}from"./index-client-atPt8Ppi.js";import{V as y,M as C,c as R,d as J,e as K,f as N,g as Q,h as v,i as W,j as X,k as Y,F as ee,H as te}from"./create-runtime-stories-C5aqBmYi.js";import"./iframe-BEUO-_wG.js";import"../sb-preview/runtime.js";import"./index-D-8MO0q_.js";import"./index-BHYIh-Xd.js";import"./_commonjsHelpers-Cpj98o6Y.js";function E(t){let n=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];const s=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],i=[];let d=[];const _=t.width||t.size||1,V=t.height||t.size||1,B=t.depth||t.size||1,D=t.wrap||!1;let m=t.topBaseAt===void 0?1:t.topBaseAt,b=t.bottomBaseAt===void 0?0:t.bottomBaseAt;m=(m+4)%4,b=(b+4)%4;const g=[2,0,3,1],k=[2,0,1,3];let h=g[m],w=k[b],u=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(D){n=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,15,12,13,14],u=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];let e=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],r=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]];const l=[17,18,19,16],p=[22,23,20,21];for(;h>0;)e.unshift(e.pop()),l.unshift(l.pop()),h--;for(;w>0;)r.unshift(r.pop()),p.unshift(p.pop()),w--;e=e.flat(),r=r.flat(),u=u.concat(e).concat(r),n.push(l[0],l[2],l[3],l[0],l[1],l[2]),n.push(p[0],p[2],p[3],p[0],p[1],p[2])}const P=[_/2,V/2,B/2];d=u.reduce((e,r,l)=>e.concat(r*P[l%3]),[]);const O=t.sideOrientation===0?0:t.sideOrientation||y.DEFAULTSIDE,a=t.faceUV||new Array(6),c=t.faceColors,x=[];for(let e=0;e<6;e++)a[e]===void 0&&(a[e]=new R(0,0,1,1)),c&&c[e]===void 0&&(c[e]=new J(1,1,1,1));for(let e=0;e<6;e++)if(i.push(a[e].z,a[e].w),i.push(a[e].x,a[e].w),i.push(a[e].x,a[e].y),i.push(a[e].z,a[e].y),c)for(let r=0;r<4;r++)x.push(c[e].r,c[e].g,c[e].b,c[e].a);y._ComputeSides(O,d,n,s,i,t.frontUVs,t.backUVs);const f=new y;if(f.indices=n,f.positions=d,f.normals=s,f.uvs=i,c){const e=O===y.DOUBLESIDE?x.concat(x):x;f.colors=e}return f}function U(t,o={},n=null){const s=new C(t,n);return o.sideOrientation=C._GetDefaultSideOrientation(o.sideOrientation),s._originalBuilderSideOrientation=o.sideOrientation,E(o).applyToMesh(s,o.updatable),s}y.CreateBox=E;C.CreateBox=(t,o,n=null,s,i)=>U(t,{size:o,sideOrientation:i,updatable:s},n);function A(t,o){let n=j(o,"mesh",15);K(t,{createMeshFunction:U,get options(){return o.options},get scene(){return o.scene},get position(){return o.position},get lookAt(){return o.lookAt},get mesh(){return n()},set mesh(s){n(s)}})}A.__docgen={data:[{name:"options",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ backUVs?: Vector4 | undefined; bottomBaseAt?: number | undefined; depth?: number | undefined; faceColors?: Color4[] | undefined; faceUV?: Vector4[] | undefined; ... 7 more ...; wrap?: boolean | undefined; }"},static:!1,readonly:!1},{name:"scene",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Scene"},static:!1,readonly:!1},{name:"mesh",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Mesh"},static:!1,readonly:!1,defaultValue:"..."},{name:"useParentScene",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"position",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Vector3"},static:!1,readonly:!1},{name:"lookAt",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ targetPoint: Vector3; yawCor?: number | undefined; pitchCor?: number | undefined; rollCor?: number | undefined; }"},static:!1,readonly:!1}],name:"Box.svelte"};let F;const oe={title:"mesh/Box",tags:["autodocs"],component:A},{Story:ne}=Q();var se=I("<!> <!> <!>",1);function $(t,o){L(o,!1),M();var n=Z(()=>({options:{width:2,height:2,depth:2},position:v.Zero(),lookAt:{targetPoint:v.Zero()}}));ne(t,{name:"Docs",get args(){return H(n)},children:(i,d=G)=>{W(i,{style:"width: 100%;",children:(_,V)=>{X(_,{children:(B,D)=>{Y(B,{children:(m,b)=>{var g=se(),k=q(g);ee(k,{position:new v(0,5,-10)});var h=S(k,2);te(h,{direction:new v(0,1,0),intensity:.7});var w=S(h,2);A(w,{get options(){return d().options},get position(){return d().position},get lookAt(){return d().lookAt},get mesh(){return F},set mesh(u){F=u},$$legacy:!0}),z(m,g)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0},parameters:{__svelteCsf:{rawCode:`<Canvas style="width: 100%;">
  <Engine>
    <Scene>
      <FreeCamera position={new Vector3(0, 5, -10)} />
      <HemisphericLight direction={new Vector3(0, 1, 0)} intensity={0.7} />
      <Box bind:mesh options={args.options} position={args.position} lookAt={args.lookAt} />
    </Scene>
  </Engine>
</Canvas>`}}}),T()}$.__docgen={version:3,name:"Box.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const ie=N($,oe),me=["Docs"],he=ie.Docs;export{he as Docs,me as __namedExportsOrder,oe as default};
