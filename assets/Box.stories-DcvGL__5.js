import{p as U,s as j,r as M,i as I,a as L,t as P}from"./props-Biv-wkS8.js";import{p as H,a as T,f as G,n as R,b as O}from"./index-client-rkuF54Lr.js";import{V as m,M as k,c as q,d as J,e as K,f as N,g as Q,h as W,i as X,j as Y,F as Z,k as S,H as ee}from"./create-runtime-stories-BfL98lhW.js";import"./iframe-DD4yETVY.js";import"../sb-preview/runtime.js";import"./index-D-8MO0q_.js";import"./index-BHYIh-Xd.js";import"./_commonjsHelpers-Cpj98o6Y.js";function z(t){let o=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];const i=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],n=[];let p=[];const C=t.width||t.size||1,v=t.height||t.size||1,$=t.depth||t.size||1,_=t.wrap||!1;let y=t.topBaseAt===void 0?1:t.topBaseAt,u=t.bottomBaseAt===void 0?0:t.bottomBaseAt;y=(y+4)%4,u=(u+4)%4;const h=[2,0,3,1],b=[2,0,1,3];let x=h[y],V=b[u],g=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(_){o=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,15,12,13,14],g=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];let e=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],r=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]];const c=[17,18,19,16],d=[22,23,20,21];for(;x>0;)e.unshift(e.pop()),c.unshift(c.pop()),x--;for(;V>0;)r.unshift(r.pop()),d.unshift(d.pop()),V--;e=e.flat(),r=r.flat(),g=g.concat(e).concat(r),o.push(c[0],c[2],c[3],c[0],c[1],c[2]),o.push(d[0],d[2],d[3],d[0],d[1],d[2])}const E=[C/2,v/2,$/2];p=g.reduce((e,r,c)=>e.concat(r*E[c%3]),[]);const D=t.sideOrientation===0?0:t.sideOrientation||m.DEFAULTSIDE,a=t.faceUV||new Array(6),l=t.faceColors,w=[];for(let e=0;e<6;e++)a[e]===void 0&&(a[e]=new q(0,0,1,1)),l&&l[e]===void 0&&(l[e]=new J(1,1,1,1));for(let e=0;e<6;e++)if(n.push(a[e].z,a[e].w),n.push(a[e].x,a[e].w),n.push(a[e].x,a[e].y),n.push(a[e].z,a[e].y),l)for(let r=0;r<4;r++)w.push(l[e].r,l[e].g,l[e].b,l[e].a);m._ComputeSides(D,p,o,i,n,t.frontUVs,t.backUVs);const f=new m;if(f.indices=o,f.positions=p,f.normals=i,f.uvs=n,l){const e=D===m.DOUBLESIDE?w.concat(w):w;f.colors=e}return f}function F(t,s={},o=null){const i=new k(t,o);return s.sideOrientation=k._GetDefaultSideOrientation(s.sideOrientation),i._originalBuilderSideOrientation=s.sideOrientation,z(s).applyToMesh(i,s.updatable),i}m.CreateBox=z;k.CreateBox=(t,s,o=null,i,n)=>F(t,{size:s,sideOrientation:n,updatable:i},o);function B(t,s){let o=U(s,"mesh",15),i=M(s,["$$slots","$$events","$$legacy","mesh"]);K(t,j({createMeshFunction:F},()=>i,{get mesh(){return o()},set mesh(n){o(n)}}))}B.__docgen={data:[{name:"options",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ backUVs?: Vector4 | undefined; bottomBaseAt?: number | undefined; depth?: number | undefined; faceColors?: Color4[] | undefined; faceUV?: Vector4[] | undefined; ... 7 more ...; wrap?: boolean | undefined; }"},static:!1,readonly:!1},{name:"scene",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Scene"},static:!1,readonly:!1},{name:"mesh",visibility:"public",description:"if you want to use a mesh api, bind it",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Mesh"},static:!1,readonly:!1,defaultValue:"..."},{name:"position",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ x: number; y: number; z: number; }"},static:!1,readonly:!1},{name:"rotation",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ x: number; y: number; z: number; }"},static:!1,readonly:!1},{name:"scaling",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{ x: number; y: number; z: number; }"},static:!1,readonly:!1}],name:"Box.svelte"};const te={title:"mesh/Box",tags:["autodocs"],component:B},{Story:ne}=Q();var se=P("<!> <!> <!>",1);function A(t,s){H(s,!1),I(),ne(t,{name:"Docs",args:{options:{width:4,height:4,depth:4},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scaling:{x:1,y:1,z:1}},children:(i,n=R)=>{W(i,{style:"width: 100%;",children:(p,C)=>{X(p,{children:(v,$)=>{Y(v,{children:(_,y)=>{var u=se(),h=G(u);Z(h,{position:new S(0,5,-10)});var b=O(h,2);ee(b,{direction:new S(0,1,0),intensity:.7});var x=O(b,2);B(x,{get options(){return n().options},get position(){return n().position},get rotation(){return n().rotation},get scaling(){return n().scaling}}),L(_,u)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0},parameters:{__svelteCsf:{rawCode:`<Canvas style="width: 100%;">
  <Engine>
    <Scene>
      <FreeCamera position={new Vector3(0, 5, -10)} />
      <HemisphericLight direction={new Vector3(0, 1, 0)} intensity={0.7} />
      <Box
        options={args.options}
        position={args.position}
        rotation={args.rotation}
        scaling={args.scaling}
      />
    </Scene>
  </Engine>
</Canvas>`}}}),T()}A.__docgen={version:3,name:"Box.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const oe=N(A,te),fe=["Docs"],me=oe.Docs;export{me as Docs,fe as __namedExportsOrder,te as default};
